/**
 * karyojs - Chromosomal regions visualizer written in JavaScript
 * @version v1.0.0
 * @link http://lab.juanes.xyz/karyojs
 * @license MIT
 */

function Karyo(t){this.info={},this.info.name="Karyo.js",this.info.version="1.0.0",this.info.web="https://jmjuanes.github.io/karyojs",this.info.repo="https://github.com/jmjuanes/karyojs/",this.info.docs="https://github.com/jmjuanes/karyojs/tree/dev/docs",console.log("Karyo: "+this.info.name+" v"+this.info.version),console.log("Karyo: Visit "+this.info.web+" for more info and usage."),this["default"]={},this["default"].size={width:"100%",height:"330px"},this["default"].svg={width:"100%",height:"100%"},this["default"].img="img/",this.parent={},this.parent.id=t,this.parent.width=0,this.parent.height=0,this.core={},this.core.busy=!1,this.navbar={},this.navbar.id=this.parent.id+"_navbar",this.navbar.width=0,this.navbar.height=50,this.navbar.show=!0,this.navbar["class"]="karyo-navbar",this.navbar.padding={left:10,right:10},this.navbar.btnKaryo=this.navbar.id+"_karyo",this.navbar.btnKaryoClass="karyo-navbar-btn karyo-navbar-btn-home",this.navbar.btnKaryoTitle="Return to karyotypes",this.navbar.btnKaryoShow=!0,this.navbar.btnSearch=this.navbar.id+"_search",this.navbar.btnSearchClass="karyo-navbar-btn karyo-navbar-btn-search",this.navbar.btnSearchTitle="Find region",this.navbar.btnSearchShow=!0,this.navbar.btnHelp=this.navbar.id+"_help",this.navbar.btnHelpClass="karyo-navbar-btn karyo-navbar-btn-help",this.navbar.btnHelpTitle="Get help",this.navbar.btnHelpShow=!0,this.navbar.input=this.navbar.id+"_input",this.navbar.inputClass="karyo-navbar-input",this.navbar.inputPlaceholder="Find region",this.navbar.btnLogo="karyo-navbar-logo",this.navbar.callbackBackBtn=null,this.navbar.callbackSearchBtn=null,this.foot={},this.foot.id=this.parent.id+"_foot",this.foot.pos=this.foot.id+"_pos",this.foot.specie=this.foot.id+"_specie",this.foot.width=0,this.foot.height=30,this.foot.padding={left:10,right:10},this.foot.show=!0,this.foot.logo="karyo-foot-logo",this.foot.powered="karyo-foot-powered",this.svg={},this.svg.id=this.parent.id+"_svg",this.svg.build=null,this.svg.width=0,this.svg.height=0,this.svg.draw=null,this.svg.margin={top:35,bottom:75,left:70,right:70},this.specie={},this.specie.el=null,this.specie.use=!1,this.specie.parser=null,this.region={},this.region.el=null,this.region.use=!1,this.region.parser=null,this.chrlist={},this.chrlist.hover=!1,this.chrlist.width=12,this.chrpreview={},this.chrpreview.show=!0,this.chrpreview.data=[],this.chrpreview.op=.8,this.chrdetail={},this.chrdetail.hover=!1,this.chrdetail.height=60,this.chrdetail.margin=-5,this.chrtitle={},this.chrtitle.width=400,this.chrtitle.height=35,this.chrtitle.margin=20,this.chrtitle.show=!0,this.chrlabel={},this.chrlabel.width=90,this.chrlabel.height=30,this.chrlabel.parser=null,this.reglabel={},this.reglabel.parser=null,this.reglabel.showPositions=!0,this.reglabel.width=130,this.reglabel.height=20,this.regrect={},this.regrect.opacity=.4,this.select={},this.select.op=1,this.select.on=!1,this.select.chr=null,this.select.start=0,this.select.end=0,this.select.length=0,this.select.move=!1,this.select.down=!1,this.select.last=0,this.select.lastx=0,this.select.margin=5,this.select.max=-1,this.select.limitset=!1,this.select.enabled=!0,this.selectdrag={},this.selectdrag.move=!1,this.selectdrag.click=0,this.selectdrag.posx1=0,this.selectdrag.posx2=0,this.selectrect={},this.selectrect.opacity=.4,this.selectline={},this.selectline.opacity=.4,this.selectlabel={},this.selectlabel.width=130,this.selectlabel.height=20,this.style={},this.style.chrtext={family:"OpenSans",size:"12px",anchor:"middle",fill:"#546E7A"},this.style.titletext={family:"OpenSans",size:"20px",anchor:"middle",fill:"#546E7A"},this.style.hovertext={family:"OpenSans",size:"12px",anchor:"middle",fill:"#ffffff"},this.style.labeltext={family:"OpenSans",size:"11px",anchor:"middle",fill:"#ffffff"},this.alert={},this.alert.id=this.parent.id+"_alert",this.alert.padding=40,this.alert["class"]="karyo-alert",this.alert.width=0,this.alert.height=0,this.alert.time=4e3,this.alert.typeclass="karyo-alert-",this.alert.type="",this.alert.tip=!0,this.alertcont={},this.alertcont.id=this.alert.id+"_cont",this.alertcont["class"]="karyo-alert-cont",this.alertcont.visible=!1,this.alertcont.width=0,this.alertcont.height=30,this.alertcont.posx=0,this.alertcont.posy=0,this.alertcont.margin=5,this.alertcont.padding=35,this.alertmsg={},this.alertmsg.tip="Click on a red region to view, or click and drag to select a custom region.",this.alertmsg.error="Error, region not found...",this.cursor={},this.cursor.id="#"+this.parent.id,this.cursor.active=!1,this.loading={},this.loading.id=this.parent.id+"_loading",this.loading.width="100%",this.loading.height=0,this.loading["class"]="karyo-loading",this.loading.show=!0,this.loading.visible=!1,this.loadingscreen={},this.loadingscreen.id=this.loading.id+"_screen",this.loadingscreen.width="100%",this.loadingscreen.height=0,this.loadingscreen["class"]="karyo-loading-screen",this.loadingscreen.show=!0,this.loadingscreen.padding={top:100},this.plugins={},this.callback=null,this.status=null,KaryoBuildTimeOut(this)}function KaryoBuildTimeOut(t){setTimeout(function(){t.Build()},200)}function KaryoImportJson(t,s,i,e){var r=$.ajax({url:s,dataType:"json"});r.done(function(s){e.ImportParser(t,s,i)}),r.fail(function(){console.error("Karyo: Error reading from "+s)})}function KaryoNavbarBtnHomeEvnt(t){$("#"+t.navbar.btnKaryo).click(function(s){t.NavbarBtnHomeClick()})}function KaryoNavbarBtnSearchEvnt(t){$("#"+t.navbar.btnSearch).click(function(s){t.NavbarBtnSearchClick()}),$("#"+t.navbar.input).keyup(function(s){13==s.keyCode&&t.NavbarBtnSearchClick()})}function KaryoNavbarBtnHelpEvnt(t){$("#"+t.navbar.btnHelp).click(function(s){t.NavbarBtnHelpClick()})}function KaryoEvntResize(t){$(window).resize(function(){t.Resize()})}function KaryoAlertTimeOut(t){setTimeout(function(){t.AlertHide()},t.alert.time)}function KaryoMaxChrLength(t){for(var s=t[0].length,i=0;i<t.length;i++)s<t[i].length&&(s=t[i].length);return s}function KaryoDrawChrListTimeOut(t,s,i){setTimeout(function(){t.DrawChrDetail(i)},s)}function KaryoMouseEvnt(t){var s="#"+t.svg.id;$(s).mouseup(function(s){s.preventDefault();var i=$(this).offset().left,e=$(this).offset().top;t.MouseUp(s.pageX-i,s.pageY-e)}),$(s).mousedown(function(s){s.preventDefault();var i=$(this).offset().left,e=$(this).offset().top;t.MouseDown(s.pageX-i,s.pageY-e)}),$(s).mousemove(function(s){s.preventDefault();var i=$(this).offset().left,e=$(this).offset().top;t.MouseMove(s.pageX-i,s.pageY-e)})}function KaryoGenomeMapsEvent(t,s){$("#"+t.genomemaps.btn)&&s>0?($("#"+t.genomemaps.btn).click(function(){t.GenomeMapsListen()}),$("#"+t.genomemaps.input).change(function(){t.GenomeMapsListen()})):setTimeout(function(){KaryoGenomeMapsEvent(t,1)},2e3)}Karyo.prototype.Build=function(){$("#"+this.parent.id).addClass("karyo-parent"),$("#"+this.parent.id).append(this.NavbarBuild()),$("#"+this.parent.id).append(this.LoadingBuild()),$("#"+this.parent.id).append('<div id="'+this.svg.id+'"></div>'),$("#"+this.parent.id).append(this.AlertBuild()),$("#"+this.parent.id).append(this.FootBuild()),this.SetSize(this["default"].size.width,this["default"].size.height),this.EventResize(),this.svg.build=cSVG(this.svg.id).size(this["default"].svg.width,this["default"].svg.height),this.Mouse(),this.NavbarEvnt(),this.Draw()},Karyo.prototype.CallBack=function(t){"function"==typeof t?(console.log("Karyo: saving callback"),this.callback=t):console.error('Karyo: Error in "Set Callback", callback is not a function')},Karyo.prototype.CallbackGoBack=function(t){"function"==typeof t?(console.log("Karyo: saving callback for go back button"),this.navbar.callbackBackBtn=t):console.error('Karyo: Error in "Set Callback for Go Back Button", callback is not a function')},Karyo.prototype.CallbackSearch=function(t){"function"==typeof t?(console.log("Karyo: saving callback for search button"),this.navbar.callbackSearchBtn=t):console.error('Karyo: Error in "Set Callback for Search Button", callback is not a function')},Karyo.prototype.CallbackRun=function(t,s){if("undefined"==typeof this.svg.draw.chr.id)var i=this.specie.el.chr[this.select.chr].id;else var i=this.svg.draw.chr.id;null!==this.callback&&this.callback(i,t,s),console.log('Karyo: callback for "'+i+":"+t+"-"+s+'"')},Karyo.prototype.CursorHide=function(){$(this.cursor.id).removeClass("karyo-resize"),$(this.cursor.id).removeClass("karyo-hand"),$(this.cursor.id).removeClass("karyo-move"),this.cursor.active=!1},Karyo.prototype.Cursor=function(t){this.cursor.active===!1&&($(this.cursor.id).addClass("karyo-"+t),this.cursor.active=!0)},Karyo.prototype.FootBuild=function(){var t='<div id="'+this.foot.id+'" class="karyo-foot"';return this.foot.show===!1&&(t+=' style="display:none;"'),t+=">",t=t+'<div id="'+this.foot.specie+'" class="karyo-foot-specie">&nbsp;</div>',t=t+'<div id="'+this.foot.pos+'" class="karyo-foot-pos">&nbsp;</div>',t=t+'<a href="'+this.info.web+'" class="'+this.foot.logo+'" target="_blank">',t=t+this.info.name+"</a>",t=t+'<div class="'+this.foot.powered+'">Powered by </div>',t+="</div>"},Karyo.prototype.FootPosition=function(t){if(null===t)var s="&nbsp;";else var s=this.svg.draw.chr.id+":"+t;$("#"+this.foot.pos).html(s)},Karyo.prototype.FootSpecie=function(){var t=this.specie.el.name+" ("+this.specie.el.assembly+")";$("#"+this.foot.specie).html(t)},Karyo.prototype.GetChr=function(t){for(var s=0;s<this.specie.el.chr.length;s++)if(this.specie.el.chr[s].id===t)return this.specie.el.chr[s];return null},Karyo.prototype.GetRegionsByChr=function(t){for(var s=0;s<this.region.el.length;s++)if(this.region.el[s].id===t)return this.region.el[s].regions;return null},Karyo.prototype.ImportChrs=function(t,s){this.Import("specie",t,s)},Karyo.prototype.ImportRegions=function(t,s){this.Import("region",t,s)},Karyo.prototype.Import=function(t,s,i){this.LoadingShow(),this.core.busy=!0,"undefined"==typeof i&&(i=null),this[t].use=!0,console.log("Karyo: reading "+t+" from "+s),KaryoImportJson(t,s,i,this)},Karyo.prototype.ImportParser=function(t,s,i){i&&(s=i(s)),this[t].el=s,"specie"===t&&(console.log("Karyo: using "+this.specie.el.name+" with assembly "+this.specie.el.assembly),console.log("Karyo: detected "+this.specie.el.chr.length+" chromosomes")),"region"===t&&(this.chrpreview.data=[]),this.Draw()},Karyo.prototype.NavbarBuild=function(){var t='<div id="'+this.navbar.id+'" class="'+this.navbar["class"]+'"';return this.navbar.show===!1&&(t+=' style="display:none;"'),t+=">",this.navbar.btnKaryoShow===!0&&(t=t+'<div class="'+this.navbar.btnKaryoClass+'" id="'+this.navbar.btnKaryo+'"',t=t+'title="'+this.navbar.btnKaryoTitle+'"',t+="></div>"),this.navbar.btnSearchShow===!0&&(t=t+'<input type="text" class="'+this.navbar.inputClass+'" id="'+this.navbar.input+'"',t=t+' placeholder="'+this.navbar.inputPlaceholder+'">',t=t+'<div class="'+this.navbar.btnSearchClass+'" id="'+this.navbar.btnSearch+'"',t=t+'title="'+this.navbar.btnSearchTitle+'"',t+="></div>"),this.navbar.btnHelpShow===!0&&(t=t+'<div class="'+this.navbar.btnHelpClass+'" id="'+this.navbar.btnHelp+'"',t=t+'title="'+this.navbar.btnHelpTitle+'"',t+="></div>"),t+="</div>"},Karyo.prototype.NavbarEvnt=function(){KaryoNavbarBtnHomeEvnt(this),KaryoNavbarBtnSearchEvnt(this),KaryoNavbarBtnHelpEvnt(this)},Karyo.prototype.NavbarBtnHomeClick=function(){return this.core.busy===!0?(console.warn("Karyo: Core is busy..."),!1):(console.log("Karyo: go back home"),this.navbar.callbackBackBtn&&(console.log("Karyo: Calling function for Go Back button"),this.navbar.callbackBackBtn()),void this.Draw())},Karyo.prototype.NavbarBtnSearchClick=function(){if(this.core.busy===!0)return console.warn("Karyo: Core is busy..."),!1;var t=$("#"+this.navbar.input).val();t&&""!==t&&(console.log('Karyo: searching "'+t+'"'),this.navbar.callbackSearchBtn&&(console.log("Karyo: Calling function for Search button"),this.navbar.callbackSearchBtn(t)),this.SelectReg(t,!0))},Karyo.prototype.NavbarBtnHelpClick=function(){window.open(this.info.docs,"_blank")},Karyo.prototype.Resize=function(){this.parent.width=$("#"+this.parent.id).width(),this.parent.height=$("#"+this.parent.id).height(),this.navbar.width=$("#"+this.navbar.id).width(),this.navbar.height=$("#"+this.navbar.id).height(),this.loading.width=$("#"+this.loading.id).width(),this.loading.height=$("#"+this.loading.id).height(),this.svg.width=$("#"+this.svg.id).width(),this.svg.height=$("#"+this.svg.id).height(),this.foot.width=$("#"+this.foot.id).width(),this.foot.height=$("#"+this.foot.id).height(),console.log("Karyo: resizing parent {width: "+this.parent.width+", height: "+this.parent.height+"}"),console.log("Karyo: resizing navbar {width: "+this.navbar.width+", height: "+this.navbar.height+"}"),console.log("Karyo: resizing svg {width: "+this.svg.width+", height: "+this.svg.height+"}"),console.log("Karyo: resizing foot {width: "+this.foot.width+", height: "+this.foot.height+"}"),this.AlertResize(),this.LoadingResize(),this.svg.build&&this.Draw()},Karyo.prototype.EventResize=function(){KaryoEvntResize(this)},Karyo.prototype.SelectReg=function(t,s){"undefined"==typeof s&&(s=!1),this.SelectDestroy(),this.DrawChrDetailRegionsOp(1);var i=t.split(":"),e=this.UtilFindID(this.specie.el.chr,i[0]);if(0>e)return this.AlertError("Error, chromosome not found"),!1;if(i.length>=2){this.select.chr=e;var r=i[1].split("-");if(this.select.start=parseInt(r[0]),this.select.end=parseInt(r.length>1?r[1]:r[0]),this.select.end>this.specie.el.chr[this.select.chr].length&&(console.log('Karyo: invalid region "'+t+'": end is bigger than chromosome'),console.log("Karyo: settiong selected region end as chromosome end"),this.select.end=this.specie.el.chr[this.select.chr].length),this.select.start>this.select.end)return console.log('Karyo: invalid region "'+t+'": start > end'),this.SelectDestroy(),this.AlertError("Error, start > end"),!1;this.select.on=!0}"detail"===this.status&&this.svg.draw.chr.num===e?this.select.on===!0&&this.SelectDraw():this.DrawChrDetail(e),s===!0&&this.SelectRunCallback()},Karyo.prototype.SelectDraw=function(t){this.SelectHide();var s={};this.select.length=this.select.end-this.select.start,s.posx1=Math.floor(this.svg.draw.chr.width*(this.select.start/this.svg.draw.chr.length)),s.posx1=this.svg.draw.chr.posx+s.posx1,s.posx2=Math.floor(this.svg.draw.chr.width*(this.select.end/this.svg.draw.chr.length)),s.posx2=this.svg.draw.chr.posx+s.posx2,s.posy=this.svg.draw.chr.posy,s.width=s.posx2-s.posx1,s.height=this.svg.draw.chr.height,s.rect=this.svg.build.rect(s.width,s.height).attr({x:s.posx1,y:s.posy}),s.rect.addClass("karyo-select-bg"),s.rect.opacity(this.selectrect.opacity),s.line1=this.svg.build.polyline([[s.posx1,s.posy],[s.posx1,s.posy+s.height]]),s.line2=this.svg.build.polyline([[s.posx2,s.posy],[s.posx2,s.posy+s.height]]),s.line1.addClass("karyo-select"),s.line2.addClass("karyo-select"),s.line1.opacity(this.selectline.opacity),s.line2.opacity(this.selectline.opacity),this.svg.draw.select=s,s={},s.posx=this.svg.draw.select.posx1+this.svg.draw.select.width/2,s.posy=this.svg.draw.select.posy+this.svg.draw.chr.height+10,s.rect=this.svg.build.rect(this.selectlabel.width,this.selectlabel.height),s.rect.attr({x:s.posx-this.selectlabel.width/2,y:s.posy}),s.rect.addClass("karyo-selectlabel").radius(5),s.tri=this.svg.build.polygon([[s.posx-6,s.posy+2],[s.posx,s.posy-6],[s.posx+6,s.posy+2]]),s.tri.addClass("karyo-selectlabel"),s.text=this.svg.build.text(this.select.start+"-"+this.select.end),s.text.attr({x:s.posx,y:s.posy+1}),s.text.font(this.style.labeltext),this.svg.draw.selectlabel=s,t===!0&&(this.svg.draw.select.rect.opacity(0),this.svg.draw.select.rect.animate(200).opacity(this.selectrect.opacity),this.svg.draw.select.line1.opacity(0),this.svg.draw.select.line2.opacity(0),this.svg.draw.select.line1.animate(200).opacity(this.selectline.opacity),this.svg.draw.select.line2.animate(200).opacity(this.selectline.opacity),this.svg.draw.selectlabel.rect.opacity(0),this.svg.draw.selectlabel.rect.animate(200).opacity(1),this.svg.draw.selectlabel.tri.opacity(0),this.svg.draw.selectlabel.tri.animate(200).opacity(1))},Karyo.prototype.SelectRunCallback=function(){this.CallbackRun(this.select.start,this.select.end)},Karyo.prototype.SelectDrag=function(t){this.select.on=!0,this.select.move=!0;var s=this.DrawChrDetailRealPos(t),i=s-this.selectdrag.click;this.select.start=this.selectdrag.posx1+i,this.select.end=this.selectdrag.posx2+i,this.select.start<0?(this.select.start=0,this.select.end=this.select.start+this.select.length):this.select.end>this.svg.draw.chr.end&&(this.select.end=this.svg.draw.chr.end,this.select.start=this.select.end-this.select.length),this.SelectDraw(!1)},Karyo.prototype.SelectMove=function(t){var s=1;this.select.move===!1&&(this.select.on=!0,this.select.move=!0);var i=this.DrawChrDetailRealPos(t);i<this.select.start?(this.select.start=i,s=1):i>this.select.end?(this.select.end=i,s=0):this.select.last-i<-1?(this.select.start=i,s=1):this.select.last-i>1&&(this.select.end=i,s=0),this.select.max>-1&&this.select.end-this.select.start>this.select.max&&(1===s?this.select.start=this.select.end-this.select.max:this.select.end=this.select.start+this.select.max),this.select.last=i,this.SelectDraw(!1)},Karyo.prototype.SelectDestroy=function(){this.select.chr=null,this.select.start=0,this.select.end=0,this.select.on=!1,this.select.run=!1,this.select.hover=!1,this.select.down=!1,this.SelectHide()},Karyo.prototype.SelectHide=function(){null!==this.svg.draw&&"undefined"!=typeof this.svg.draw.select&&null!==this.svg.draw.select&&(this.svg.draw.select.rect.remove(),this.svg.draw.select.line1.remove(),this.svg.draw.select.line2.remove(),this.svg.draw.select=null,this.svg.draw.selectlabel.rect.remove(),this.svg.draw.selectlabel.text.remove(),this.svg.draw.selectlabel.tri.remove(),this.svg.draw.selectlabel=null)},Karyo.prototype.SetSize=function(t,s){$("#"+this.parent.id).width(t),$("#"+this.parent.id).height(s);var i="calc("+t+" - "+this.navbar.padding.left+"px - "+this.navbar.padding.right+"px)";$("#"+this.navbar.id).css("width",i),$("#"+this.navbar.id).height(this.navbar.height),$("#"+this.navbar.id).css("padding-left",this.navbar.padding.left),$("#"+this.navbar.id).css("padding-right",this.navbar.padding.right);var e=parseInt(s);e-=this.navbar.show===!1?0:this.navbar.height,e-=this.foot.show===!1?0:this.foot.height,$("#"+this.svg.id).width(t),$("#"+this.svg.id).height(e),$("#"+this.loading.id).width(this.loading.width),$("#"+this.loading.id).height(this.loading.height),$("#"+this.loadingscreen.id).width(this.loadingscreen.width),$("#"+this.loadingscreen.id).height(this.loadingscreen.height);var r="calc("+t+" - "+this.foot.padding.left+" - "+this.foot.padding.right+")";$("#"+this.foot.id).css("width",r),$("#"+this.foot.id).height(this.foot.height),$("#"+this.foot.id).css("padding-left",this.foot.padding.left),$("#"+this.foot.id).css("padding-right",this.foot.padding.right),$("#"+this.foot.id).css("line-height",""+this.foot.height+"px"),this.Resize()},Karyo.prototype.UseSize=function(t){"undefined"!=typeof t.width&&(this["default"].size.width=t.width),"undefined"!=typeof t.height&&(this["default"].size.height=t.height)},Karyo.prototype.UseMargin=function(t){"undefined"!=typeof t.top&&(this.svg.margin.top=t.top),"undefined"!=typeof t.bottom&&(this.svg.margin.bottom=t.bottom),"undefined"!=typeof t.left&&(this.svg.margin.left=t.left),"undefined"!=typeof t.right&&(this.svg.margin.right=t.right)},Karyo.prototype.UsePlugin=function(t,s){this.Plugins(t,s)},Karyo.prototype.GoTo=function(t,s){return"undefined"==typeof s&&(s=!0),this.core.busy===!0?void console.warn("Karyo: Core is busy..."):void this.SelectReg(t,s)},Karyo.prototype.UseLabel=function(t){"function"==typeof t.chromosome&&(this.chrlabel.parser=t.chromosome),"function"==typeof t.region&&(this.reglabel.parser=t.region)},Karyo.prototype.Options=function(t){"undefined"!=typeof t.previewRegions&&(this.chrpreview.show=t.previewRegions),"undefined"!=typeof t.navbarHeight&&(this.navbar.height=t.navbarHeight),"undefined"!=typeof t.navbarShow&&(this.navbar.show=t.navbarShow),"undefined"!=typeof t.navbarShowKaryo&&(this.navbar.btnKaryoShow=t.navbarShowKaryo),"undefined"!=typeof t.navbarShowSearch&&(this.navbar.btnSearchShow=t.navbarShowSearch),"undefined"!=typeof t.navbarShowHelp&&(this.navbar.btnHelpShow=t.navbarShowHelp),"undefined"!=typeof t.tipShow&&(this.alert.tip=t.tipShow),"undefined"!=typeof t.tipText&&(this.alertmsg.tip=t.tipText),"undefined"!=typeof t.selectMax&&(this.select.max=t.selectMax),"undefined"!=typeof t.selectEnabled&&(this.select.enabled=t.selectEnabled)},Karyo.prototype.UtilFindID=function(t,s){for(var i=0;i<t.length;i++)if(t[i].id===s)return i;return-1},Karyo.prototype.UtilRegHover=function(t,s,i,e,r,h){return t>=i&&i+r>=t&&s>=e&&e+h>=s?!0:!1},Karyo.prototype.isFunction=function(t){return"[object Function]"==Object.prototype.toString.call(t)},Karyo.prototype.GenID=function(){return Math.random().toString(36).slice(2).substr(0,5)},Karyo.prototype.PosNear=function(t,s,i){return t>=s-i&&s+i>=t?!0:!1},Karyo.prototype.LoadingBuild=function(){var t='<div id="'+this.loading.id+'" class="'+this.loading["class"]+'">';return t=t+'<div id="'+this.loadingscreen.id+'" class="'+this.loadingscreen["class"]+'" ',t=t+'style="opacity:0.0; visibility:hidden; padding-top:'+this.loadingscreen.padding.top+'">',t+='<div class="karyo-anim"></div>',t+="</div>",t+="</div>"},Karyo.prototype.LoadingResize=function(){this.loadingscreen.width=$("#"+this.loadingscreen.id).width(),this.loadingscreen.height=this.svg.height-this.loadingscreen.padding.top,$("#"+this.loadingscreen.id).height(this.loadingscreen.height)},Karyo.prototype.LoadingShow=function(){$("#"+this.loadingscreen.id).css("opacity","1.0"),$("#"+this.loadingscreen.id).css("visibility","visible"),this.loading.visible=!0},Karyo.prototype.LoadingHide=function(){this.loading.visible===!0&&($("#"+this.loadingscreen.id).css("opacity","0.0"),$("#"+this.loadingscreen.id).css("visibility","hidden")),this.loading.visible=!1},Karyo.prototype.AlertBuild=function(){var t='<div id="'+this.alert.id+'" class="'+this.alert["class"]+'">';return t=t+'<div class="'+this.alertcont["class"]+'" id="'+this.alertcont.id+'" ',t=t+'style="opacity: 0.0; visibility: hidden; padding-left: '+this.alertcont.padding+'px;"',t+="></div>",t+="</div>"},Karyo.prototype.AlertResize=function(){this.alertcont.width=this.svg.width-this.svg.margin.left-this.svg.margin.right,this.alertcont.width=this.alertcont.width-this.alertcont.padding,this.alertcont.posx=this.svg.margin.left,this.alertcont.posy=-1*(this.alertcont.height+this.alertcont.margin),$("#"+this.alertcont.id).css("width",this.alertcont.width),$("#"+this.alertcont.id).css("height",this.alertcont.height),$("#"+this.alertcont.id).css("top",this.alertcont.posy),$("#"+this.alertcont.id).css("left",this.alertcont.posx)},Karyo.prototype.AlertTip=function(){this.alert.tip===!0&&this.AlertShow("tip",this.alertmsg.tip)},Karyo.prototype.AlertError=function(){this.AlertShow("error",this.alertmsg.error)},Karyo.prototype.AlertShow=function(t,s){0==this.alertcont.visible&&($("#"+this.alertcont.id).text(s),this.alert.type=t,$("#"+this.alertcont.id).addClass(this.alert.typeclass+this.alert.type),$("#"+this.alertcont.id).css("opacity","1.0"),$("#"+this.alertcont.id).css("visibility","visible"),this.alertcont.visible=!0,KaryoAlertTimeOut(this))},Karyo.prototype.AlertHide=function(){$("#"+this.alertcont.id).css("opacity","0.0"),$("#"+this.alertcont.id).css("visibility","hidden"),$("#"+this.alertcont.id).removeClass(this.alert.typeclass+this.alert.type),this.alertcont.visible=!1},Karyo.prototype.Preview=function(){console.log("Karyo: Creating preview regions...");for(var t=this.specie.el.chr.length,s=this.svg.height-this.svg.margin.top-this.svg.margin.bottom,i=KaryoMaxChrLength(this.specie.el.chr),e=0;t>e;e++){var r=[],h=Math.floor(s*this.specie.el.chr[e].length/i),a=this.UtilFindID(this.region.el,this.specie.el.chr[e].id);if(a>-1){for(var o=[],l=0;l<this.region.el[a].regions.length;l++)for(var n=this.region.el[a].regions[l],c=Math.floor(h*(n.start/this.specie.el.chr[e].length)),d=Math.floor(h*(n.end/this.specie.el.chr[e].length)),g=c;d>=g;g++)o.push(g);o.sort(function(t,s){return t-s});for(var g=0;g<o.length;){var p=o[g],v=o[g];for(g+=1;g<o.length&&!(v+1<o[g]);)v=o[g],g+=1;p==v&&(v+=1),r.push([p,v])}}this.chrpreview.data.push(r)}},Karyo.prototype.DrawChrDetail=function(t){if(this.AlertTip(),this.svg.build.clear(),this.svg.draw={},this.svg.draw.chr={},this.svg.draw.chr.num=t,this.svg.draw.chr.id=this.specie.el.chr[t].id,this.svg.draw.chr.start=0,this.svg.draw.chr.end=this.specie.el.chr[t].length,this.svg.draw.chr.length=this.svg.draw.chr.end-this.svg.draw.chr.start,this.svg.draw.chr.width=this.svg.width-this.svg.margin.left-this.svg.margin.right,this.svg.draw.chr.height=this.chrdetail.height,this.svg.draw.chr.posx=this.svg.margin.left,this.svg.draw.chr.posy=Math.floor(this.svg.height/2-this.svg.draw.chr.height/2-this.chrdetail.margin),this.svg.draw.chr.svg=this.svg.build.rect(this.svg.draw.chr.width,this.svg.draw.chr.height),this.svg.draw.chr.svg.attr({x:this.svg.draw.chr.posx,y:this.svg.draw.chr.posy}),this.svg.draw.chr.svg.addClass("karyo-chr").opacity(0),this.svg.draw.chr.svg.radius(20),this.svg.draw.chr.svg.animate(200).opacity(1),this.svg.draw.title=null,this.chrtitle.show===!0){this.svg.draw.title={},this.svg.draw.title.rect=this.svg.build.rect(this.chrtitle.width,this.chrtitle.height),this.svg.draw.title.rect.attr({x:this.svg.width/2-this.chrtitle.width/2,y:this.chrtitle.margin}),this.svg.draw.title.rect.addClass("karyo-title").radius(5);var s="Chromosome "+this.svg.draw.chr.id+":"+this.svg.draw.chr.start+"-"+this.svg.draw.chr.end;this.svg.draw.title.text=this.svg.build.text(s),this.svg.draw.title.text.font(this.style.titletext),this.svg.draw.title.text.attr({x:this.svg.width/2,y:this.chrtitle.margin})}if(this.svg.draw.centromere=null,this.specie.el.chr[t].centromere){var i={};i.posx1=Math.floor(this.svg.draw.chr.width*(this.specie.el.chr[t].centromere[0]/this.svg.draw.chr.length)),i.posx2=Math.floor(this.svg.draw.chr.width*(this.specie.el.chr[t].centromere[1]/this.svg.draw.chr.length)),i.posy=this.svg.draw.chr.posy,i.width=i.posx2-i.posx1,i.height=this.svg.draw.chr.height,i.rect=this.svg.build.rect(i.width,i.height+6).attr({x:i.posx1,y:i.posy-3}),i.rect.addClass("karyo-centromere-bg");var e=[];e.push([i.posx1,i.posy]),e.push([i.posx1+i.width/2,i.posy+i.height/2]),e.push([i.posx1+i.width,i.posy]),e.push([i.posx1+i.width,i.posy+i.height]),e.push([i.posx1+i.width/2,i.posy+i.height/2]),e.push([i.posx1,i.posy+i.height]),i.poly=this.svg.build.polygon(e),i.poly.addClass("karyo-centromere").opacity(0),i.poly.animate(200).opacity(1),this.svg.draw.centromere=i}if(this.svg.draw.region={},this.svg.draw.region.regs=[],this.region){var r=this.UtilFindID(this.region.el,this.svg.draw.chr.id);if(r>-1){this.svg.draw.region.index=r;for(var h=this.select.on===!0?this.select.op:this.regrect.opacity,a=this.select.on===!0?this.select.op:1,o=0;o<this.region.el[r].regions.length;o++){var l=this.region.el[r].regions[o],i={},n=500;i.posx1=Math.floor(this.svg.draw.chr.width*(l.start/this.svg.draw.chr.length)),i.posx1=this.svg.draw.chr.posx+i.posx1,i.posx2=Math.floor(this.svg.draw.chr.width*(l.end/this.svg.draw.chr.length)),i.posx2=this.svg.draw.chr.posx+i.posx2,i.posy=this.svg.draw.chr.posy,i.width=i.posx2-i.posx1,i.height=this.svg.draw.chr.height,i.rect=this.svg.build.rect(i.width,i.height).attr({x:i.posx1,y:i.posy}),i.rect.addClass("karyo-region-bg").opacity(0),i.rect.animate(n).opacity(h),i.line1=this.svg.build.polyline([[i.posx1,i.posy],[i.posx1,i.posy+i.height]]),i.line2=this.svg.build.polyline([[i.posx2,i.posy],[i.posx2,i.posy+i.height]]),i.line1.addClass("karyo-region").opacity(0),i.line2.addClass("karyo-region").opacity(0),i.line1.animate(n).opacity(a),i.line2.animate(n).opacity(a),this.svg.draw.region.regs.push(i)}}}this.svg.draw.hover=null,this.svg.draw.label=null,this.svg.draw.select=null,this.svg.draw.selectlabel=null,this.select.on===!0&&(console.log("Karyo: drawing selected region ["+this.select.start+","+this.select.end+"]"),this.SelectDraw(!0)),this.status="detail",console.log("Karyo: opening chromosome "+this.svg.draw.chr.id)},Karyo.prototype.DrawChrDetailRegionsOp=function(t){var s=t;if(1==t&&(s=this.regrect.opacity),"undefined"!=typeof this.svg.draw.region)for(var i=0;i<this.svg.draw.region.regs.length;i++)this.svg.draw.region.regs[i].rect.opacity(s),this.svg.draw.region.regs[i].line1.opacity(t),this.svg.draw.region.regs[i].line2.opacity(t)},Karyo.prototype.DrawChrDetailRealPos=function(t){var s=(t-this.svg.draw.chr.posx)/this.svg.draw.chr.width*this.svg.draw.chr.length;return s=Math.floor(s+this.svg.draw.chr.start)},Karyo.prototype.DrawChrDetailHover=function(t){var s=this.svg.draw.chr.posy-40;this.DrawChrDetailHoverDestroy(),this.svg.draw.hover={},this.svg.draw.hover.rect=this.svg.build.rect(80,30).attr({x:t-40,y:s}),this.svg.draw.hover.rect.addClass("karyo-hover").radius(5),this.svg.draw.hover.tri=this.svg.build.polygon([[t-6,s+28],[t,s+36],[t+6,s+28]]),this.svg.draw.hover.tri.addClass("karyo-hover");var i=this.DrawChrDetailRealPos(t);this.svg.draw.hover.text=this.svg.build.text(i.toString()),this.svg.draw.hover.text.attr({x:t,y:s+4}),this.svg.draw.hover.text.font(this.style.hovertext),this.FootPosition(i)},Karyo.prototype.DrawChrDetailHoverDestroy=function(){this.svg.draw.hover&&(this.svg.draw.hover.rect.remove(),this.svg.draw.hover.tri.remove(),this.svg.draw.hover.text.remove(),this.svg.draw.hover=null)},Karyo.prototype.DrawChrDetailLabel=function(t){if(null===this.svg.draw.label){var s=this.reglabel.parser?2:1;this.svg.draw.label={},this.svg.draw.label.num=t;var i=Math.floor(this.svg.draw.region.regs[t].posx1+this.svg.draw.region.regs[t].width/2),e=this.svg.draw.region.regs[t].posy+this.svg.draw.region.regs[t].height+10;if(this.svg.draw.label.rect=this.svg.build.rect(this.reglabel.width,this.reglabel.height*s),this.svg.draw.label.rect.attr({x:i-this.reglabel.width/2,y:e}),this.svg.draw.label.rect.addClass("karyo-label").radius(5),this.svg.draw.label.tri=this.svg.build.polygon([[i-6,e+2],[i,e-6],[i+6,e+2]]),this.svg.draw.label.tri.addClass("karyo-label"),this.svg.draw.label.start=this.region.el[this.svg.draw.region.index].regions[t].start,this.svg.draw.label.end=this.region.el[this.svg.draw.region.index].regions[t].end,this.svg.draw.label.text1=this.svg.build.text(this.svg.draw.label.start+"-"+this.svg.draw.label.end),this.svg.draw.label.text1.attr({x:i,y:e+1}),this.svg.draw.label.text1.font(this.style.labeltext),this.svg.draw.label.text2=null,null!==this.reglabel.parser){var r=this.reglabel.parser(this.svg.draw.chr.id,this.svg.draw.label.num);this.svg.draw.label.text2=this.svg.build.text(r),this.svg.draw.label.text2.attr({x:i,y:e+this.reglabel.height-2}),this.svg.draw.label.text2.font(this.style.labeltext)}}},Karyo.prototype.DrawChrDetailLabelDestroy=function(){this.svg.draw.label&&(this.svg.draw.label.rect.remove(),this.svg.draw.label.tri.remove(),this.svg.draw.label.text1.remove(),null!==this.svg.draw.label.text2&&this.svg.draw.label.text2.remove(),this.svg.draw.label=null)},Karyo.prototype.DrawChrList=function(){this.svg.build.clear(),this.svg.draw={},this.svg.draw.chr={},this.svg.draw.chr.num=this.specie.el.chr.length,this.svg.draw.chr.space=this.svg.width-this.svg.margin.left-this.svg.margin.right,this.svg.draw.chr.space=Math.floor(this.svg.draw.chr.space/(this.svg.draw.chr.num-1)),this.svg.draw.chr.width=this.chrlist.width,this.svg.draw.chr.height=this.svg.height-this.svg.margin.top-this.svg.margin.bottom,this.svg.draw.chr.max=KaryoMaxChrLength(this.specie.el.chr),this.svg.draw.chrs=[],this.svg.draw.centromere=[],this.svg.draw.text=[],this.svg.draw.label=null;for(var t=0;t<this.svg.draw.chr.num;t++){var s={},i=200+50*t;if(s.id=this.specie.el.chr[t].id,s.width=this.svg.draw.chr.width,s.height=this.specie.el.chr[t].length/this.svg.draw.chr.max,s.height=Math.floor(this.svg.draw.chr.height*s.height),s.svg=this.svg.build.rect(s.width,s.height),s.posx=this.svg.margin.left+this.svg.draw.chr.space*t-this.svg.draw.chr.width/2,
s.posy=this.svg.height-this.svg.margin.bottom-s.height,s.svg.attr({x:s.posx,y:s.posy}),s.svg.radius(5),s.svg.addClass("karyo-chr").opacity(0),s.svg.animate(i).opacity(1),s.preview=[],this.chrpreview.show===!0&&this.region)for(var e=0;e<this.chrpreview.data[t].length;e++){var r=this.chrpreview.data[t][e],h=this.svg.build.rect(this.svg.draw.chr.width,r[1]-r[0]);h.attr({x:s.posx,y:s.posy+r[0]}),h.addClass("karyo-region-bg").opacity(0),h.animate(i).opacity(.5),s.preview.push(h)}if(this.svg.draw.chrs.push(s),s={},s.svg=this.svg.build.text(this.specie.el.chr[t].id),s.svg.font(this.style.chrtext),s.posx=this.svg.draw.chrs[t].posx+this.svg.draw.chr.width/2,s.posy=Math.floor(this.svg.height-this.svg.margin.bottom+5),s.svg.attr({x:s.posx,y:s.posy}),this.svg.draw.text.push(s),Array.isArray(this.specie.el.chr[t].centromere)===!0){s={},s.width=this.svg.draw.chr.width,s.height=this.specie.el.chr[t].centromere[1]-this.specie.el.chr[t].centromere[0],s.height=Math.floor(this.svg.draw.chr.height*(s.height/this.svg.draw.chr.max)),s.posx=this.svg.draw.chrs[t].posx,s.posy=this.svg.draw.chr.height*(this.specie.el.chr[t].centromere[0]/this.svg.draw.chr.max),s.posy=this.svg.draw.chrs[t].posy+Math.floor(s.posy),s.rect=this.svg.build.rect(s.width+4,s.height).attr({x:s.posx-2,y:s.posy}),s.rect.addClass("karyo-centromere-bg");var a=[];a.push([s.posx,s.posy]),a.push([s.posx+s.width/2,s.posy+s.height/2]),a.push([s.posx,s.posy+s.height]),a.push([s.posx+s.width,s.posy+s.height]),a.push([s.posx+s.width/2,s.posy+s.height/2]),a.push([s.posx+s.width,s.posy]),s.poly=this.svg.build.polygon(a),s.poly.addClass("karyo-centromere").opacity(0),s.poly.animate(i).opacity(1),this.svg.draw.centromere.push(s)}else this.svg.draw.centromere.push({poly:null})}this.status="list"},Karyo.prototype.DrawChrListExit=function(t){this.status=null;for(var s=500,i=0;i<this.svg.draw.chr.num;i++)if(i!==t){this.svg.draw.chrs[i].svg.animate(s).opacity(0),this.svg.draw.text[i].svg.animate(s).opacity(0),this.svg.draw.centromere[i].poly&&this.svg.draw.centromere[i].poly.animate(s).opacity(0);for(var e=0;e<this.svg.draw.chrs[i].preview.length;e++)this.svg.draw.chrs[i].preview[e].animate(s).opacity(0)}this.DrawChrListLabelDestroy(),KaryoDrawChrListTimeOut(this,s+200,t)},Karyo.prototype.DrawChrListLabel=function(t){if(null===this.svg.draw.label&&null!==this.chrlabel.parser){this.svg.draw.label={},this.svg.draw.label.id=this.specie.el.chr[t].id,this.svg.draw.label.num=t;var s=this.svg.draw.chrs[t].posx+this.svg.draw.chr.width/2,i=this.svg.height-this.svg.margin.bottom+35;this.svg.draw.label.rect=this.svg.build.rect(this.chrlabel.width,this.chrlabel.height),this.svg.draw.label.rect.attr({x:s-this.chrlabel.width/2,y:i}),this.svg.draw.label.rect.radius(5),this.svg.draw.label.rect.addClass("karyo-hover"),this.svg.draw.label.rect.opacity(0),this.svg.draw.label.rect.animate(100).opacity(1);var e=this.chrlabel.parser(this.svg.draw.label.id);this.svg.draw.label.text=this.svg.build.text(e),this.svg.draw.label.text.font(this.style.hovertext),this.svg.draw.label.text.attr({x:s,y:i+4}),this.svg.draw.label.tri=this.svg.build.polygon([[s-6,i+2],[s,i-6],[s+6,i+2]]),this.svg.draw.label.tri.addClass("karyo-hover"),this.svg.draw.label.tri.opacity(0),this.svg.draw.label.tri.animate(100).opacity(1)}},Karyo.prototype.DrawChrListLabelDestroy=function(){this.svg.draw.label&&(this.svg.draw.label.rect.remove(),this.svg.draw.label.tri.remove(),this.svg.draw.label.text.remove(),this.svg.draw.label=null)},Karyo.prototype.Draw=function(){this.LoadingShow(),this.core.busy=!0,this.specie.el&&this.svg.build&&(this.region.use===!1||this.region.use===!0&&this.region.el)&&(this.chrpreview.show===!0&&0==this.chrpreview.data.length&&this.region.el&&this.Preview(),this.SelectDestroy(),this.DrawChrList(),this.FootSpecie(),this.FootPosition(null),this.LoadingHide(),this.core.busy=!1)},Karyo.prototype.MouseClick=function(t,s){this.status&&("list"===this.status?this.MouseClickList(t,s):"detail"===this.status?this.MouseClickDetail(t,s):console.log('Karyo: unknow location state "'+this.status+'"'))},Karyo.prototype.MouseClickList=function(t,s){this.svg.draw.label&&this.DrawChrListExit(this.svg.draw.label.num)},Karyo.prototype.MouseClickDetail=function(t,s){this.svg.draw.label&&this.CallbackRun(this.svg.draw.label.start,this.svg.draw.label.end)},Karyo.prototype.MouseDown=function(t,s){if(this.status&&"detail"===this.status&&this.chrdetail.hover===!0){var i=this.DrawChrDetailRealPos(t),e=i,r=i;this.select.on===!0&&(this.svg.draw.select.posx1<t&&t<this.svg.draw.select.posx2?(this.selectdrag.move=!0,this.Cursor("move")):this.PosNear(t,this.svg.draw.select.posx1,this.select.margin)?(r=this.select.end,this.Cursor("resize")):this.PosNear(t,this.svg.draw.select.posx2,this.select.margin)&&(e=this.select.start,this.Cursor("resize"))),this.selectdrag.move===!0?(this.selectdrag.click=i,this.selectdrag.posx1=this.select.start,this.selectdrag.posx2=this.select.end):(this.select.start=e,this.select.end=r,this.select.last=i,this.select.lastx=t),this.select.down=!0}},Karyo.prototype.MouseMove=function(t,s){this.status&&("list"===this.status?this.MouseMoveList(t,s):"detail"===this.status?this.MouseMoveDetail(t,s):console.log('Karyo: unknow location state "'+this.status+'"'))},Karyo.prototype.MouseMoveList=function(t,s){for(var i=!1,e=0;e<this.svg.draw.chr.num;e++){var r=this.svg.draw.chrs[e];if(this.UtilRegHover(t,s,r.posx,r.posy,r.width,r.height)){this.DrawChrListLabel(e),this.Cursor("hand"),i=!0;break}}i===!1&&(this.CursorHide(),this.DrawChrListLabelDestroy())},Karyo.prototype.MouseMoveDetail=function(t,s){this.chrdetail.hover=!1;var i={x:this.svg.draw.chr.posx,y:this.svg.draw.chr.posy};if(this.UtilRegHover(t,s,i.x,i.y,this.svg.draw.chr.width,this.svg.draw.chr.height)){if(this.DrawChrDetailHover(t),this.select.down===!0&&this.select.enabled===!0)this.selectdrag.move===!0?(this.Cursor("move"),this.SelectDrag(t)):(this.Cursor("resize"),this.SelectMove(t));else{for(var e=!1,r=0;r<this.svg.draw.region.regs.length;r++){var h=this.svg.draw.region.regs[r];if(h.posx1-2<=t&&t<=h.posx2+2){this.DrawChrDetailLabel(r),this.Cursor("hand"),e=!0;break}}if(e===!1&&(this.CursorHide(),this.DrawChrDetailLabelDestroy()),this.select.on===!0){var a=this.PosNear(t,this.svg.draw.select.posx1,this.select.margin),o=this.PosNear(t,this.svg.draw.select.posx2,this.select.margin);this.svg.draw.select.posx1<t&&t<this.svg.draw.select.posx2?(this.CursorHide(),this.Cursor("move")):(a===!0||o===!0)&&(this.CursorHide(),this.Cursor("resize"))}this.select.move=!1,this.selectdrag.move=!1}this.chrdetail.hover=!0}else this.DrawChrDetailHoverDestroy(),this.DrawChrDetailLabelDestroy(),this.CursorHide()},Karyo.prototype.MouseUp=function(t,s){this.status&&("list"===this.status?this.MouseUpList(t,s):"detail"===this.status&&this.MouseUpDetail(t,s))},Karyo.prototype.MouseUpList=function(t,s){this.svg.draw.label&&this.DrawChrListExit(this.svg.draw.label.num)},Karyo.prototype.MouseUpDetail=function(t,s){this.select.on===!0&&this.select.start!==this.select.end?this.select.move===!0?(this.select.enabled===!0&&this.SelectRunCallback(),this.select.move=!1):this.SelectDestroy():(this.svg.draw.label&&this.CallbackRun(this.svg.draw.label.start,this.svg.draw.label.end),this.SelectDestroy()),this.select.down=!1},Karyo.prototype.Mouse=function(){KaryoMouseEvnt(this)},Karyo.prototype.GenomeMaps=function(t){console.log("Karyo: starting Genome-Maps plugin"),this.genomemaps={},this.genomemaps.input="regionField",this.genomemaps.btn="goButton",this.genomemaps.listen=!0,KaryoGenomeMapsEvent(this,0),this.callback=this.GenomeMapsCallBack},Karyo.prototype.GenomeMapsListen=function(){var t=$("#"+this.genomemaps.input).val();this.genomemaps.listen===!0?(console.log('Karyo: selecting region fron Genome Maps "'+t+'"'),this.SelectReg(t,!1)):this.genomemaps.listen=!0},Karyo.prototype.GenomeMapsCallBack=function(t,s,i){this.genomemaps.listen=!1,$("#"+this.genomemaps.input).val(t+":"+s+"-"+i),$("#"+this.genomemaps.btn).click()},Karyo.prototype.Plugins=function(t,s){"genome-maps"===t?this.GenomeMaps(s):console.error('Karyo: "'+t+'" plugin not found')};